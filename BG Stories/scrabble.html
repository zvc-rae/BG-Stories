<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Scrabble ‚Äì BG Stories</title>
<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;900&family=Crimson+Text:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">
<style>
:root{--ink:#0d1a0d;--green:#8fbc8f;--gold:#c9973a;--parchment:#f5ead6;--tile:#f4e8c1;--tile-s:#c8b06a;}
*{margin:0;padding:0;box-sizing:border-box;}
body{background:var(--ink);color:var(--parchment);font-family:'Crimson Text',serif;overflow-x:hidden;}
nav{display:flex;align-items:center;justify-content:space-between;padding:1.4rem 3rem;border-bottom:1px solid rgba(143,188,143,0.18);position:sticky;top:0;background:rgba(13,26,13,0.96);backdrop-filter:blur(8px);z-index:100;}
.nav-logo{font-family:'Cinzel',serif;font-size:0.78rem;letter-spacing:0.35em;color:var(--gold);text-decoration:none;text-transform:uppercase;}
.nav-back{font-family:'Cinzel',serif;font-size:0.7rem;letter-spacing:0.25em;color:var(--green);text-decoration:none;text-transform:uppercase;transition:color 0.2s;}
.nav-back:hover{color:var(--parchment);}
.hero{min-height:55vh;display:flex;flex-direction:column;justify-content:center;align-items:center;background:radial-gradient(ellipse at 40% 60%,rgba(143,188,143,0.08) 0%,transparent 60%),var(--ink);position:relative;overflow:hidden;padding:4rem 2rem;text-align:center;}
.game-tag{font-family:'Cinzel',serif;font-size:0.63rem;letter-spacing:0.5em;color:var(--green);text-transform:uppercase;border:1px solid rgba(143,188,143,0.3);padding:0.35em 1.2em;margin-bottom:1.5rem;display:inline-block;}
.hero-title{font-family:'Cinzel',serif;font-size:clamp(3rem,9vw,7rem);font-weight:900;color:var(--parchment);}
.hero-sub{font-style:italic;font-size:1.25rem;color:rgba(245,234,214,0.55);margin-top:0.8rem;}
.tile-letters{display:flex;gap:0.5rem;margin-top:2rem;flex-wrap:wrap;justify-content:center;}
.hero-tile{width:52px;height:52px;background:var(--tile);color:#3a2600;font-family:'Cinzel',serif;font-size:1.5rem;font-weight:900;display:flex;align-items:center;justify-content:center;position:relative;box-shadow:2px 2px 0 var(--tile-s),4px 4px 0 rgba(0,0,0,0.3);border-radius:3px;}
.hero-tile sup{font-size:0.55rem;position:absolute;bottom:4px;right:5px;font-weight:600;color:#7a5500;}
.content{max-width:960px;margin:0 auto;padding:0 2rem;}
.section{padding:4.5rem 0;border-bottom:1px solid rgba(143,188,143,0.12);}
.sec-label{font-family:'Cinzel',serif;font-size:0.62rem;letter-spacing:0.5em;color:var(--green);text-transform:uppercase;margin-bottom:0.8rem;display:block;}
.sec-title{font-family:'Cinzel',serif;font-size:clamp(1.6rem,3vw,2.3rem);color:var(--parchment);margin-bottom:1.8rem;}
.prose p{font-size:1.15rem;line-height:1.9;color:rgba(245,234,214,0.78);margin-bottom:1.4rem;}
.prose p:first-child::first-letter{float:left;font-family:'Cinzel',serif;font-size:3.8rem;line-height:0.8;margin-right:0.1em;color:var(--green);padding-top:0.08em;}
.rules-list{list-style:none;margin-top:1.5rem;}
.rules-list li{font-size:1.1rem;line-height:1.8;color:rgba(245,234,214,0.72);padding:0.6rem 0 0.6rem 1.5rem;border-bottom:1px solid rgba(143,188,143,0.1);position:relative;}
.rules-list li::before{content:'‚ñ∏';position:absolute;left:0;color:var(--green);}
.game-section{padding:4.5rem 0;}
.game-area{display:flex;flex-direction:column;align-items:center;gap:1.4rem;margin-top:2rem;}
.game-status{font-family:'Cinzel',serif;font-size:0.85rem;letter-spacing:0.15em;color:var(--green);text-align:center;padding:0.5rem 1.5rem;border:1px solid rgba(143,188,143,0.25);max-width:500px;}
.score-area{display:flex;gap:3rem;text-align:center;}
.score-box{font-family:'Cinzel',serif;}
.score-num{font-size:2.5rem;font-weight:900;color:var(--green);}
.score-lbl{font-size:0.6rem;letter-spacing:0.3em;text-transform:uppercase;color:rgba(143,188,143,0.5);}
.rack-label{font-family:'Cinzel',serif;font-size:0.6rem;letter-spacing:0.4em;color:rgba(143,188,143,0.5);text-transform:uppercase;}
.rack{display:flex;gap:0.5rem;background:rgba(46,94,46,0.2);padding:1rem 1.5rem;border:1px solid rgba(143,188,143,0.2);min-height:72px;flex-wrap:wrap;justify-content:center;min-width:320px;}
.tile{width:50px;height:50px;background:var(--tile);color:#3a2600;font-family:'Cinzel',serif;font-size:1.4rem;font-weight:900;display:flex;align-items:center;justify-content:center;position:relative;cursor:pointer;box-shadow:2px 2px 0 var(--tile-s),3px 3px 0 rgba(0,0,0,0.25);border-radius:3px;transition:transform 0.15s;user-select:none;flex-shrink:0;}
.tile sup{font-size:0.5rem;position:absolute;bottom:4px;right:5px;font-weight:700;color:#7a5500;}
.tile.on{transform:translateY(-8px);background:#fdf3d0;}
.word-display{font-family:'Cinzel',serif;font-size:2.4rem;letter-spacing:0.15em;color:var(--parchment);min-height:3rem;text-align:center;border-bottom:2px solid rgba(143,188,143,0.3);padding:0 1rem 0.4rem;min-width:220px;}
.mult-hint{font-size:0.9rem;color:rgba(143,188,143,0.65);font-style:italic;}
.btn-row{display:flex;gap:0.8rem;flex-wrap:wrap;justify-content:center;}
.btn-s{font-family:'Cinzel',serif;font-size:0.68rem;letter-spacing:0.22em;text-transform:uppercase;padding:0.6rem 1.5rem;border:1px solid var(--green);color:var(--green);background:transparent;cursor:pointer;transition:all 0.2s;}
.btn-s:hover{background:var(--green);color:var(--ink);}
.word-history{width:100%;max-width:400px;border:1px solid rgba(143,188,143,0.15);padding:0.8rem;max-height:160px;overflow-y:auto;}
.wh-title{font-family:'Cinzel',serif;font-size:0.58rem;letter-spacing:0.4em;color:var(--green);text-transform:uppercase;margin-bottom:0.4rem;}
.wh-row{display:flex;justify-content:space-between;font-size:0.95rem;color:rgba(245,234,214,0.6);padding:0.2rem 0;border-bottom:1px solid rgba(143,188,143,0.07);}
.wh-pts{color:var(--green);}
footer{text-align:center;padding:3rem;border-top:1px solid rgba(143,188,143,0.1);font-family:'Cinzel',serif;font-size:0.64rem;letter-spacing:0.3em;color:rgba(201,151,58,0.3);text-transform:uppercase;}
@media(max-width:600px){nav{padding:1rem 1.5rem;}.score-area{gap:1.5rem;}.tile{width:40px;height:40px;font-size:1.1rem;}}
</style>
</head>
<body>
<nav>
  <a href="index.html" class="nav-logo">BG Stories</a>
  <a href="index.html" class="nav-back">‚Üê Home</a>
</nav>
<div class="hero">
  <span class="game-tag">Words ¬∑ Language ¬∑ Strategy</span>
  <h1 class="hero-title">Scrabble</h1>
  <p class="hero-sub">Where language becomes a battlefield</p>
  <div class="tile-letters">
    <div class="hero-tile">S<sup>1</sup></div>
    <div class="hero-tile">C<sup>3</sup></div>
    <div class="hero-tile">R<sup>1</sup></div>
    <div class="hero-tile">A<sup>1</sup></div>
    <div class="hero-tile">B<sup>3</sup></div>
    <div class="hero-tile">B<sup>3</sup></div>
    <div class="hero-tile">L<sup>1</sup></div>
    <div class="hero-tile">E<sup>1</sup></div>
  </div>
</div>
<div class="content">
  <section class="section">
    <span class="sec-label">History</span>
    <h2 class="sec-title">From Lexiko to a Global Obsession</h2>
    <div class="prose">
      <p>Scrabble was invented in 1938 by Alfred Mosher Butts, an unemployed architect from New York who had been tinkering with word games since 1931. He meticulously studied the front page of the New York Times to calculate the letter frequency distributions that still govern the tile counts to this day ‚Äî a remarkable act of linguistic engineering hiding inside a parlour game.</p>
      <p>Butts originally called his invention Lexiko, then Criss Cross Words, but struggled for years to find a publisher willing to take the risk. It was entrepreneur James Brunot who licensed and refined the game in 1948 ‚Äî renaming it Scrabble ‚Äî and began manufacturing it from his farmhouse. A serendipitous moment came when Macy's chairman discovered the game during a vacation and ordered it for the department store. Sales exploded almost overnight.</p>
      <p>Today, Scrabble is sold in more than 120 countries and 29 languages, with over 150 million sets sold worldwide. It has spawned professional leagues, world championships, and a passionate competitive scene testing vocabulary, strategy, and probability in equal measure.</p>
    </div>
  </section>
  <section class="section">
    <span class="sec-label">How to Play</span>
    <h2 class="sec-title">The Laws of the Tiles</h2>
    <div class="prose"><p>Scrabble is played on a 15x15 board. Players draw seven tiles and take turns forming words by connecting letters to existing words on the board ‚Äî like a crossword built collaboratively and competitively, where every placement is also a score calculation.</p></div>
    <ul class="rules-list">
      <li>Each player draws 7 tiles from a bag and keeps them hidden from opponents.</li>
      <li>Words must connect to an existing word already on the board.</li>
      <li>Words can only be placed horizontally (left to right) or vertically (top to bottom).</li>
      <li>After playing, draw new tiles to replenish back to 7.</li>
      <li>Premium squares multiply letter value (2L, 3L) or whole word value (2W, 3W).</li>
      <li>Playing all 7 tiles at once earns a 50-point bonus ‚Äî called a "bingo."</li>
      <li>Blank tiles represent any letter but score zero points.</li>
      <li>Game ends when the bag is empty and one player has used all their tiles.</li>
    </ul>
  </section>
</div>
<div class="content">
  <section class="game-section">
    <span class="sec-label" style="display:block;text-align:center;">Minigame</span>
    <h2 class="sec-title" style="text-align:center;">Score Words</h2>
    <p style="text-align:center;font-style:italic;color:rgba(245,234,214,0.45);margin-top:-1rem;margin-bottom:0.5rem;font-size:0.92rem;">Click tiles to build a word, then submit to score points!</p>
    <div class="game-area">
      <div class="game-status" id="status">Click tiles to spell a word</div>
      <div class="score-area">
        <div class="score-box"><div class="score-num" id="total-score">0</div><div class="score-lbl">Total Score</div></div>
        <div class="score-box"><div class="score-num" id="word-score">0</div><div class="score-lbl">This Word</div></div>
        <div class="score-box"><div class="score-num" id="round-num">1</div><div class="score-lbl">Round</div></div>
      </div>
      <div class="mult-hint" id="mult-hint"></div>
      <div class="rack-label">Your 7 Tiles</div>
      <div class="rack" id="rack"></div>
      <div class="word-display" id="word-display">_</div>
      <div class="btn-row">
        <button class="btn-s" onclick="submitword()">Submit Word</button>
        <button class="btn-s" onclick="clearword()">Clear</button>
        <button class="btn-s" onclick="shufflerack()">Shuffle</button>
        <button class="btn-s" onclick="newtiles()">New Tiles</button>
        <button class="btn-s" onclick="resetgame()">Reset All</button>
      </div>
      <div class="word-history">
        <div class="wh-title">Words Played</div>
        <div id="wh-list"></div>
      </div>
    </div>
  </section>
</div>
<footer>&copy; 2026 BG Stories</footer>
<script>
const VALS={A:1,B:3,C:3,D:2,E:1,F:4,G:2,H:4,I:1,J:8,K:5,L:1,M:3,N:1,O:1,P:3,Q:10,R:1,S:1,T:1,U:1,V:4,W:4,X:8,Y:4,Z:10};
const FREQ={A:9,B:2,C:2,D:4,E:12,F:2,G:3,H:2,I:9,J:1,K:1,L:4,M:2,N:6,O:8,P:2,Q:1,R:6,S:4,T:6,U:4,V:2,W:2,X:1,Y:2,Z:1};

// Comprehensive Scrabble word list
const SCRABBLE_WORDS = new Set([
  "aa", "ab", "ad", "ae", "ag", "ah", "ai", "al", "am", "an", "ar", "as", "at", "aw", "ax", "ay",
  "ba", "be", "bi", "bo", "by", "da", "de", "do", "ed", "ef", "eh", "el", "em", "en", "er", "es", "et", "ex",
  "fa", "fe", "fi", "fo", "ga", "ge", "gi", "go", "gu", "ha", "he", "hi", "hm", "ho", "id", "if", "in", "is", "it",
  "ja", "jo", "ka", "ki", "la", "li", "lo", "ma", "me", "mi", "mo", "mu", "my", "na", "ne", "no", "nu",
  "od", "oe", "of", "oh", "oi", "om", "on", "op", "or", "os", "ow", "ox", "oy", "pa", "pe", "pi", "po",
  "qi", "re", "sh", "si", "so", "ta", "te", "ti", "to", "uh", "um", "un", "up", "us", "we", "wo", "xi", "xu",
  "ya", "ye", "yo", "za",
  "ace", "act", "add", "ado", "ads", "aft", "age", "ago", "aid", "ail", "aim", "air", "all", "amp", "and", "ant", "any", "ape", "apt", "arc", "are", "ark", "arm", "art", "ash", "ask", "ate", "awe", "axe", "aye",
  "bad", "bag", "ban", "bar", "bat", "bay", "bed", "bee", "bet", "bid", "big", "bin", "bit", "boa", "bog", "bow", "box", "boy", "bud", "bug", "bun", "bus", "but", "buy",
  "cab", "can", "cap", "car", "cat", "cod", "cog", "cop", "cow", "cry", "cub", "cup", "cut",
  "dad", "dam", "day", "den", "dew", "did", "die", "dig", "dip", "dog", "dot", "dry", "dub", "dud", "due", "dug", "dye",
  "ear", "eat", "ebb", "eel", "egg", "ego", "elf", "elk", "elm", "emu", "end", "era", "err", "eve", "ewe", "eye",
  "fad", "fan", "far", "fat", "fax", "fed", "fee", "fen", "few", "fig", "fin", "fir", "fit", "fix", "fly", "foe", "fog", "for", "fox", "fun", "fur",
  "gap", "gas", "gel", "gem", "get", "gig", "gin", "gnu", "god", "got", "gum", "gun", "gut", "guy", "gym",
  "had", "ham", "has", "hat", "hay", "hem", "hen", "her", "hew", "hex", "hid", "him", "hip", "his", "hit", "hog", "hop", "hot", "how", "hub", "hue", "hug", "hut",
  "ice", "icy", "ill", "ink", "inn", "ion", "ire", "its", "ivy",
  "jab", "jam", "jar", "jaw", "jay", "jet", "jig", "job", "jog", "joy", "jug",
  "keg", "key", "kid", "kin", "kit",
  "lab", "lad", "lag", "lap", "law", "lax", "lay", "lea", "led", "leg", "let", "lid", "lie", "lip", "lit", "log", "lot", "low", "lug",
  "mad", "man", "map", "mar", "mat", "may", "men", "met", "mid", "mix", "mob", "mod", "mom", "mop", "mow", "mud", "mug",
  "nab", "nag", "nap", "net", "new", "nod", "nor", "not", "now", "nun", "nut",
  "oak", "oar", "odd", "ode", "off", "oft", "oil", "old", "one", "opt", "orb", "ore", "our", "out", "owe", "owl", "own",
  "pad", "pal", "pan", "par", "pat", "paw", "pay", "pea", "peg", "pen", "pet", "pew", "pie", "pig", "pin", "pit", "ply", "pod", "pop", "pot", "pow", "pry", "pub", "pup", "pus", "put",
  "rag", "ram", "ran", "rap", "rat", "raw", "ray", "red", "ref", "rep", "rib", "rid", "rig", "rim", "rip", "rob", "rod", "rot", "row", "rub", "rug", "rum", "run", "rut", "rye",
  "sac", "sad", "sag", "sap", "sat", "saw", "say", "sea", "see", "set", "sew", "shy", "sin", "sip", "sir", "sis", "sit", "six", "ska", "ski", "sky", "sly", "sob", "sod", "son", "sop", "sow", "spa", "spy", "sub", "sum", "sun", "sup",
  "tab", "tad", "tag", "tan", "tap", "tar", "tat", "tax", "tea", "ten", "the", "tie", "tin", "tip", "toe", "ton", "too", "top", "tow", "toy", "try", "tub", "tug", "two",
  "urn", "use",
  "van", "vat", "vet", "vex", "via", "vie",
  "wad", "wag", "war", "was", "wax", "way", "web", "wed", "wee", "wet", "who", "why", "wig", "win", "wit", "woe", "wok", "won", "woo", "wow",
  "yak", "yam", "yap", "yaw", "yes", "yet", "yew", "you",
  "zap", "zen", "zip", "zoo",
  "able", "ache", "acre", "aged", "aide", "airy", "away", "baby", "back", "bake", "band", "bare", "bark", "barn", "base", "bath", "beak", "bean", "bear", "beat", "been", "bell", "bent", "best", "bike", "bile", "bind", "bird", "bite", "blow", "blue", "boar", "boat", "body", "bold", "bone", "book", "boom", "boot", "bore", "born", "boss", "both", "bowl", "bulk", "burn",
  "cage", "cake", "call", "calm", "came", "camp", "cane", "cape", "card", "care", "case", "cash", "cell", "chat", "chin", "chip", "chop", "cite", "clay", "clip", "club", "coal", "coat", "code", "coil", "coin", "cold", "come", "cone", "cook", "cool", "cope", "copy", "core", "cork", "corn", "cost", "crab", "crop", "crow", "cube", "curl", "cute",
  "dame", "damp", "dare", "dark", "date", "dawn", "dead", "deaf", "deal", "dean", "dear", "deck", "deem", "deep", "deny", "desk", "dial", "dice", "diet", "dime", "dine", "dire", "dirt", "dish", "dive", "dock", "does", "doll", "dome", "done", "door", "dose", "dove", "down", "drag", "draw", "drew", "drip", "drop", "drug", "drum", "duck", "dumb", "dump", "dune", "dunk", "dusk", "dust",
  "each", "earl", "earn", "ease", "east", "easy", "echo", "edge", "edit", "else", "emit", "epic", "even", "ever", "evil", "exam", "exit",
  "face", "fact", "fail", "fair", "fake", "fall", "fame", "fare", "farm", "fast", "fate", "fear", "feed", "feel", "feet", "fell", "felt", "fern", "file", "fill", "film", "find", "fine", "fire", "firm", "fish", "fist", "five", "flag", "flat", "flaw", "fled", "flee", "flew", "flip", "flow", "foam", "fold", "folk", "food", "fool", "foot", "fork", "form", "fort", "foul", "four", "fowl", "free", "from", "fuel", "full", "fuse",
  "gain", "game", "gang", "gate", "gave", "gear", "gene", "gift", "girl", "give", "glad", "glue", "gnat", "goat", "gold", "golf", "gone", "good", "grab", "grad", "gray", "grew", "grey", "grid", "grim", "grin", "grip", "grow", "gulf",
  "hack", "hail", "hair", "half", "hall", "halt", "hand", "hang", "hard", "hare", "harm", "harp", "hate", "have", "hawk", "haze", "hazy", "head", "heal", "heap", "hear", "heat", "heed", "heel", "held", "hell", "help", "herd", "here", "hero", "hide", "high", "hike", "hill", "hint", "hire", "hold", "hole", "home", "hood", "hoof", "hook", "hoop", "hope", "horn", "host", "hour", "huge", "hull", "hung", "hunt", "hurt",
  "icon", "idea", "idle", "inch",
  "jail", "joke", "jolt", "jump",
  "keep", "kept", "kick", "kill", "kind", "king", "knee", "knit", "knot", "know",
  "lack", "lady", "laid", "lake", "lamb", "lame", "lamp", "land", "lane", "lard", "lark", "last", "late", "lead", "leaf", "leak", "lean", "leap", "left", "lend", "lens", "lent", "less", "liar", "lick", "life", "lift", "like", "limb", "lime", "limp", "line", "link", "lion", "list", "live", "load", "loaf", "loan", "lock", "loft", "lone", "long", "look", "loom", "loop", "lore", "lose", "loss", "loud", "love", "luck", "lump", "lung", "lure", "lurk",
  "made", "maid", "mail", "main", "make", "male", "mall", "mane", "mark", "mask", "mass", "mate", "math", "meal", "mean", "meat", "meek", "meet", "melt", "memo", "mere", "mesh", "mess", "mice", "mild", "mile", "milk", "mill", "mime", "mind", "mine", "mint", "miss", "mist", "moan", "mock", "mode", "mold", "mole", "monk", "mood", "moon", "moor", "more", "moss", "most", "moth", "move", "much", "mule", "must",
  "nail", "name", "neat", "neck", "need", "nest", "news", "next", "nice", "nine", "node", "none", "noon", "norm", "nose", "note", "noun",
  "obey", "odds", "odor", "once", "only", "onto", "open", "oral", "oval", "oven", "over", "owed", "owes", "owns",
  "pace", "pack", "page", "paid", "pail", "pain", "pair", "pale", "palm", "pane", "park", "part", "pass", "past", "path", "pave", "peak", "pear", "peas", "peel", "peer", "pest", "pick", "pier", "pile", "pink", "pipe", "plan", "play", "plea", "plot", "plow", "plum", "plus", "poem", "poet", "pole", "poll", "pond", "pony", "pool", "poor", "pore", "pork", "port", "pose", "post", "pour", "pray", "prep", "prey", "prim", "prod", "prom", "prop", "pull", "pump", "punk", "pure",
  "quay", "quit", "quiz",
  "race", "rack", "rage", "raid", "rail", "rain", "rake", "rank", "rare", "rate", "rave", "read", "real", "reap", "rear", "reed", "reef", "reek", "reel", "rely", "rend", "rent", "rest", "rice", "rich", "ride", "rife", "rift", "ring", "rise", "risk", "road", "roam", "roar", "robe", "rock", "rode", "role", "roll", "roof", "room", "root", "rope", "rose", "rote", "rude", "ruin", "rule", "rung", "rush", "rust",
  "safe", "sage", "said", "sail", "sake", "sale", "salt", "same", "sand", "sane", "sang", "sank", "save", "seal", "seam", "seat", "seed", "seek", "seem", "seen", "self", "sell", "semi", "send", "sent", "shed", "shin", "ship", "shoe", "shop", "shot", "show", "sick", "side", "sift", "sigh", "sign", "silk", "sing", "sink", "site", "size", "skip", "slag", "slam", "slap", "slew", "slid", "slim", "slip", "slot", "slow", "slug", "snap", "snip", "snot", "snow", "soak", "soap", "soar", "sock", "soft", "soil", "sold", "sole", "some", "song", "soon", "sore", "sort", "soul", "soup", "sour", "span", "spin", "spit", "spot", "stab", "stag", "star", "stay", "stem", "step", "stew", "stir", "stop", "stub", "such", "suit", "sulk", "sunk", "sure", "surf", "swam", "sway", "swim",
  "tail", "take", "tale", "talk", "tall", "tame", "tank", "tape", "task", "team", "tear", "teas", "teen", "tell", "tend", "tent", "term", "test", "than", "that", "them", "then", "they", "thin", "this", "thou", "tick", "tide", "tidy", "tied", "tier", "ties", "tile", "till", "tilt", "time", "tiny", "tire", "toad", "toil", "told", "toll", "tomb", "tome", "tone", "took", "tool", "torn", "toss", "tour", "trap", "tray", "tree", "trek", "trim", "trio", "trip", "trot", "true", "tube", "tuck", "tune", "turf", "turn", "twin", "type",
  "ugly", "unit", "upon", "used", "user",
  "vain", "vale", "very", "vest", "vice", "view", "vine", "void", "vote",
  "wage", "wait", "wake", "walk", "wall", "want", "warm", "warn", "wash", "wave", "weak", "wear", "week", "weep", "well", "went", "were", "west", "what", "when", "wire", "wise", "wish", "with", "wolf", "womb", "wood", "wool", "word", "wore", "work", "worm", "worn", "wrap",
  "yank", "yard", "yarn", "year", "yell", "yoke", "your",
  "zone"
]);

let VALID_WORDS = new Set(SCRABBLE_WORDS);
const MULTS=['none','double word','triple word','double letter'];

let rack=[],sel=[],totalScore=0,round=1,mIdx=0,wordHistory=[];

function bag(){
  const b=[];
  for(const [l,n] of Object.entries(FREQ)){
    for(let i=0;i<n;i++) b.push(l);
  }
  return b;
}

function drawTiles(n){
  const b=bag(),t=[];
  for(let i=0;i<n;i++) t.push(b[Math.floor(Math.random()*b.length)]);
  return t;
}

function newtiles(){
  rack=drawTiles(7);
  sel=[];
  render();
}

function shufflerack(){
  for(let i=rack.length-1;i>0;i--){
    const j=Math.floor(Math.random()*(i+1));
    [rack[i],rack[j]]=[rack[j],rack[i]];
  }
  sel=[];
  render();
}

function clearword(){
  sel=[];
  render();
  setStatus('Select tiles to spell a word');
}

function render(){
  const el=document.getElementById('rack');
  el.innerHTML='';
  rack.forEach((l,i)=>{
    const t=document.createElement('div');
    t.className='tile'+(sel.includes(i)?' on':'');
    t.innerHTML=l+'<sup>'+VALS[l]+'</sup>';
    t.onclick=()=>toggle(i);
    el.appendChild(t);
  });
  
  const w=sel.map(i=>rack[i]).join('');
  document.getElementById('word-display').textContent=w||'_';
  
  let s=0;
  sel.forEach(i=>s+=VALS[rack[i]]);
  
  const m=MULTS[mIdx];
  if(m==='double word')s*=2;
  else if(m==='triple word')s*=3;
  
  document.getElementById('word-score').textContent=s;
  
  const hints={
    'none':'No bonus this round.',
    'double word':'üåü Double word score!',
    'triple word':'‚≠ê Triple word score!',
    'double letter':'‚ú® Double a letter score!'
  };
  document.getElementById('mult-hint').textContent=hints[m]||'';
}

function toggle(i){
  const idx=sel.indexOf(i);
  if(idx>=0) sel.splice(idx,1);
  else sel.push(i);
  render();
}

function setStatus(m){
  document.getElementById('status').textContent=m;
}

function submitword(){
  const word=sel.map(i=>rack[i]).join('').toLowerCase();
  
  if(word.length<2){
    setStatus('Need at least 2 letters!');
    return;
  }
  
  if(!VALID_WORDS.has(word)){
    setStatus('"'+word.toUpperCase()+'" ‚Äî not recognized. Try another!');
    return;
  }
  
  let s=0;
  sel.forEach(i=>s+=VALS[rack[i]]);
  
  const m=MULTS[mIdx];
  if(m==='double word')s*=2;
  else if(m==='triple word')s*=3;
  
  wordHistory.push({word:word.toUpperCase(),score:s,round:round});
  updateHistory();
  
  totalScore+=s;
  document.getElementById('total-score').textContent=totalScore;
  
  round++;
  mIdx=(mIdx+1)%MULTS.length;
  document.getElementById('round-num').textContent=round;
  
  rack=drawTiles(7);
  sel=[];
  render();
  
  setStatus('"'+word.toUpperCase()+'" +'+s+' points!');
}

function updateHistory(){
  const el=document.getElementById('wh-list');
  el.innerHTML='';
  wordHistory.forEach(entry=>{
    const row=document.createElement('div');
    row.className='wh-row';
    row.innerHTML='<span>'+entry.word+'</span><span class="wh-pts">'+entry.score+'</span>';
    el.appendChild(row);
  });
}

function resetgame(){
  rack=[];
  sel=[];
  totalScore=0;
  round=1;
  mIdx=0;
  wordHistory=[];
  document.getElementById('total-score').textContent='0';
  document.getElementById('word-score').textContent='0';
  document.getElementById('round-num').textContent='1';
  document.getElementById('wh-list').innerHTML='';
  newtiles();
  setStatus('Game reset! Click tiles to spell a word');
}

// Load extended dictionary from online source
fetch('https://raw.githubusercontent.com/dwyl/english-words/master/words_alpha.txt')
  .then(response => response.text())
  .then(data => {
    const words = data.split('\n').filter(w => w.length >= 2 && w.length <= 15);
    words.forEach(word => VALID_WORDS.add(word.toLowerCase().trim()));
    console.log(`Dictionary loaded: ${VALID_WORDS.size} words available`);
  })
  .catch(err => {
    console.log('Using local Scrabble word list');
  });

window.addEventListener('DOMContentLoaded', () => {
  newtiles();
});
</script>
</body>
</html>